---
layout: post
subclass: post
title: "Code Complete 정리 (4)"
date: 2018-08-12 00:00:04
tags: [programming, must-read]
excerpt: "programming"
disqus: True
---

※ 스티브 맥코넬의 CODE COMPLETE를 읽고 정리한 글입니다.

# CODE COMPLETE 4 부 명령문

## 14 장 순차적 코드 구성하기

순차적인 코드를 구성하는 데 있어서 중요한 부분은 코드간의 의존성을 고려하는 것이다.
순서가 중요한 경우와 순서가 중요하지 않은 경우를 생각해볼 수 있는데 순서가 중요한 경우는 코드간의 의존성을 고려하여 순서에 맞게 설계하는 것이 중요하다. 반면 코드간의 의존성이 중요하지 않은 경우 연관된 명령문을 모아둠으로써 그룹화하는 것이 중요하다. 함수나 클래스를 통환 모듈화로 유지보수가 용이하도록 하는 것과 같은 맥락이다.

## 15 장 조건문

### 1. if 문 다음에 일반적인 경우를 처리해야 한다.

if 문 다음의 조건에 일반적인 경우를 두고 나머지 else 에 예외적인 경우를 두는 것이 가독성을 위해 좋은 설계다. 그리고 가장 흔한 경우를 if 문 다음 즉 앞에 두는 것이 효율성에도 좋은 설계다.

### 2. else 절이 필요 없는지 고려해야 한다.

else 절 없이 if 문으로 충분하다고 생각하는 경우도 많지만 else 으로 제어해야 할 부분이 있는 것은 아닌지 확인하는 습관을 들일 필요가 있다.

### 3. 모든 경우를 다 다루어야 한다.

MECE(Mutually Exclusive Collectively Exhaustive)는 논리에서 굉장히 중요한 부분이다.
중복 없이 전체를 포괄해야 한다는 말이다. 버스에서 승차요금을 결정하는 프로그램이라고 가정하자. 연령에 따른 요금에 차이를 둔다면 13 세 이상, 13 세 미만과 같은 식으로 겹치는 부분 없이 전연령을 포괄해야 한다. 정말 당연한 이야기이지만 흔히 실수할 수 있는 부분이다.

## 16 장 반복문 제어

### 1. "근접성 원칙"을 고려하여 연관된 명령문은 한 곳으로 모은다.

1.  모든 종료조건은 한 곳에 입력한다. 분산되면 디버깅에 어려움을 겪을 수 있다.
2.  반복문의 시작 전에 초기화 코드를 둔다. 연관된 명령문을 함께 두면 수정 시 오류를 쉽게 피할 수 있다.

### 2. 의도를 분명히 하기 위해 의미 있는 변수 이름을 사용한다.

i, j, k 를 인덱스 변수로 습관적으로 사용하는 경우가 많다. 의미 있는 변수 이름을 사용하여 프로그램을 더욱쉽게 읽을 수 있도록 한다.
ex) i -> payCodeIdx, j -> month, k -> divisionIdx

### 3. 반복문을 하나의 루틴으로 취급한다.

1.  함수는 input 이 들어가면 output 이 나오는 Blackbox 로 추상화한 것이다.
    반복문 역시 Blackbox 처럼 내부 제어구조를 보지 않아도 되도록 작성하는 것이 훌륭한 코드다.
2.  하나의 함수가 하나의 기능만을 가지는 것이 적절한 것처럼 반복문도 하나의 기능만 처리하도록 하는 것이 적절하다.
    하나의 반복문을 두 개의 반복문으로 나누고 효율성을 고려해서 합칠 수 있다고 주석을 표시하는 것도 좋은 방법이다.
3.  하나의 함수가 너무 길게 작성되는 것이 적절하지 않은 것처럼 반복문도 한 눈에 볼 수 있도록 짧게 작성하는 것이 적절하다.
    긴 반복문의 내부 반복문도 루틴으로 작성하는 것이 적절한 것도 같은 맥락이다.
4.  하나의 함수가 모듈화를 위한 하나의 방법인 것처럼 반복문에 영향을 미치는 요소의 수를 최소화하는 것이 중요하다.
5.  인덱스 변수의 범위를 반복문 자체로 제한한다. 함수를 통해 모듈화와 같은 맥락이다.

### 4. break 와 continue 문을 신중히 사용한다.

break 문을 사용하면 반복문은 더 이상 blackbox 가 아니다. 그러니 대안을 심사숙고한 다음 break 문을 사용하는 것이 적절하다.
수많은 break 문을 반복문 안에 사용하고 있다면 반복문의 역할을 불분명하게 이해하고 있을 가능성이 크다.

### 5. for 와 while 문을 적절한 상황에 사용한다.

for 문은 지정한 횟수만큼 사용할 때 사용하는 반복문이고 while 문의 경우 어떤 작업을 하다가 빠져 나가야 하는 경우에 적절한 반복문이다. for 문의 장점은 제어조건이 한 곳에 모여 있다는 것이다. 그러므로 while 문에서 초보자가 쉽게 실수할 수 있는 실수를 for 문은 미연에 방지해준다. 하지만 그렇다고 반복문 내용을 헤더에 밀어넣는 것은 적절하지 않기 때문에 주의해야 한다. 또 for 문 반복문의 인덱스를 반복문 내부에서 조작하는 것은 적절하지 못한 방법이다. while 문을 대신 사용하는 것이 적절하다.

### 6. 종료조건을 분명히 한다.

### 7. 중첩은 세 단계 이하로 한다.

세 단게가 넘어가면 일반적인 사람들이 이해하기 힘든 구조가 된다. 깊은 중첩구조는 이해하기에 좋지 못하다.

## 17 장 특이한 제어구조

재귀호출에 대한 설명으로 피보나치 수열과 팩토리얼을 예로 자주 들지만 이해를 위한 설명이지 두 예제에서는 반복문을 사용하는 것이 적절하다. 재귀 호출로 가능한 작업은 스택과 반복문으로도 가능하고 정말 중요한 것은 재귀 호출을 생각하기 전에 다른 대안을 고려해보는 것이다.

한 루틴으로 재귀 호출을 제한하는 것도 중요하다. 꼬리를 물듯 계속 다른 함수를 호출하는 구조는 직관적으로 이해하기 쉽지 않다.

## 19 장 불린 표현식

0 과 1 대신 true 와 false 를 사용하자. 의도를 명확히 해주는 것이 중요하다. 그리고 if 문 다음 명령문이 하나여도 중괄호를 사용해주는 것이 적절하다. 길게 봤을 때 더 좋은 방법이다.

그리고 지나치게 깊은 중첩구조의 if 문 구조라면 중첩 구조가 깊은 코드를 루틴으로 작성하는 것이 적절하다.

## CODE COMPLETE 4 부에서의 가장 깊었던 구절

"비효율적인 개발자는 작동할 것 같은 조합을 찾을 때까지 무작정 실험하는 경향이 있다."
-> 정작 동작하게 되더라도 왜 제대로 동작하는지 알 수 없다.

"유능한 개발자는 자신의 두뇌에 한계가 있다는 사실을 잘 알고 있어서 겸손한 자세로 프로그래밍 작업에 임한다."
-> 복잡도가 대단히 높은 코드를 다루기 위해 두뇌의 능력을 키워야 하는 것이 아니라 다루기 힘들기 때문에 가능한 한복잡도를 줄이기 위한 단계를 따라야 한다는 뜻이다.
